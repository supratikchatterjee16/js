const
_closeIcon='<svg height="10" width="10" pointer-events="none"><path d="M0 0 L10 10 M10 0 L0 10 Z" stroke="#334433" stroke-width="2"/></svg>',_infoIcon='<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15"><defs><style>.a{fill:#9b9b9b;}</style></defs><path class="a" d="M9.75,14.25h1.5V9.75H9.75ZM10.5,3A7.5,7.5,0,1,0,18,10.5,7.5,7.5,0,0,0,10.5,3Zm0,13.5a6,6,0,1,1,6-6A6.008,6.008,0,0,1,10.5,16.5ZM9.75,8.25h1.5V6.75H9.75Z" transform="translate(-3 -3)"/></svg>',_refreshIcon='<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14.991\" height=\"15\" viewBox=\"0 0 14.991 15\"><defs><style>.a{fill:#faa51a;}</style></defs><path class=\"a\" d=\"M18.8,8.2a7.5,7.5,0,1,0,1.95,7.172H18.8a5.622,5.622,0,1,1-5.3-7.5,5.545,5.545,0,0,1,3.956,1.669l-3.019,3.019h6.563V6Z\" transform=\"translate(-6.015 -6)\"/></svg>',_downArrowIcon='',_sortIcon='',_sortAlphaIcon='',_sortNumeroIcon='',_searchIcon='';function getRandomInt(min,max){min=Math.ceil(min);max=Math.floor(max);return Math.floor(Math.random()*(max-min)+min);}
class Theme{constructor(){try{this.name=null;this._primary=null;this._onPrimary=null;this._primaryVariant=null;this._secondary=null;this._secondaryVariant=null;this._background=null;this._onBackground=null;this._surface=null;this._onSurface=null;this._warn=null;this._error=null;}catch(e){console.log(e);}}
get primary(){return this._primary;}
set primary(x){this._primary=x;}
get onPrimary(){return this._onPrimary;}
set onPrimary(x){this._onPrimary=x;}
get primaryVariant(){return this._primaryVariant;}
set primaryVariant(x){this._primaryVariant=x;}
get secondary(){return this._secondary;}
set secondary(x){this._secondary=x;}
get secondaryVariant(){return this._secondaryVariant;}
set secondaryVariant(x){this._secondaryVariant=x;}
get background(){return this._background;}
set background(x){this._background=x;}
get onBackground(){return this._onBackground;}
set onBackground(x){this._onBackground=x;}
get surface(){return this._surface;}
set surface(x){this._surface=x;}
get onSurface(){return this._onSurface;}
set onSurface(x){this._onSurface=x;}
get warn(){return this._warn;}
set warn(x){this._warn=x;}
get error(){return this._error;}
set error(x){this._error=x;}
toString(){return"[object Theme("+this.name+")]";}}
class MaterialLight extends Theme{constructor(){super();this._primary="#4646D6";this._onPrimary="#fff";this._primaryVariant="#02D0C6";this._secondary="#03DAC6";this._secondaryVariant="#018786";this._background="rgba(250, 250, 250, 1)";this._onBackground="#000000";this._surface="#FFFFFF";this._onSurface="#000000";this._warn="#00FFFF";this._onWarn="#FFFFFF";this._error="#FF0000";this._onError="#FFFFFF";this.name="material-light";}}
class MaterialDark extends Theme{constructor(){super();this._primary="#6200EE";this._onPrimary="#000";this._primaryVariant="#3700B3";this._secondary="#03DAC6";this._secondaryVariant="#018786";this._background="#000";this._onBackground="#fff";this._surface="#000";this._onSurface="#fff";this._warn="#00FFFF";this._onWarn="#FFFFFF";this._error="#FF0000";this._onError="#FFFFFF";this.name="material-dark";}}
class Element extends HTMLElement{constructor(){super();this.theme=new MaterialDark();}
get theme(){return this.theme;}
set theme(theme){this.theme=theme;}
connectedCallback(){}
disconnectedCallback(){}
static get observedAttributes(){return[];}
attributeChangedCallback(name,oldValue,newValue){}
adoptedCallback(){}
repaint(){}
toString(){return"[object ResponsiveElement]";}
get theme(){return this._theme;}
set theme(theme){this._theme=theme;}}
class Layout extends HTMLElement{constructor(){super();this.theme=new MaterialLight();}
connectedCallback(){}
disconnectedCallback(){}
static get observedAttributes(){return[];}
attributeChangedCallback(name,oldValue,newValue){}
adoptedCallback(){}
toString(){return"[object Layout]";}
set theme(theme){if(theme instanceof Theme){this._theme=theme;}}
get theme(){return this._theme;}}
class ResponsiveElement extends Element{constructor(){super();this._viewport_width=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);this._viewport_height=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);this._viewport_orientation='landscape';this.calculateViewArea();}
calculateViewArea(){if(this.parentNode){if(this.parentNode instanceof ResponsiveElement)
this._viewport_width=this.parentNode._viewport_width;this._viewport_height=this.parentNode._viewport_height;this._viewport_orientation=this.parentNode._viewport_orientation;}
this._viewport_width=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);this._viewport_height=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);this._viewport_orientation=(this.viewport_height>=this.viewport_width)?'potrait':'landscape';}
getOrientation(){return this._viewport_orientation;}
toString(){return"[object ResponsiveLayout]";}}
class ResponsiveLayout extends Layout{constructor(){super();this._viewport_width=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);this._viewport_height=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);this._viewport_orientation='landscape';this.calculateViewArea();}
calculateViewArea(){this._viewport_width=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);this._viewport_height=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);this._viewport_orientation=(this.viewport_height>=this.viewport_width)?'potrait':'landscape';}
getOrientation(){return this._viewport_orientation;}
toString(){return"[object ResponsiveLayout]";}}
class StaticElement extends HTMLElement{constructor(){super();}
toString(){return"[object ConstantLayout]";}}
class InputElement extends HTMLInputElement{constructor(){super();}
repaint(){}
toString(){return"[object InputComponent]";}}
console.log("Hi from your UI library.\nReminder : call prepareUi() for some minor environment adjustments post load.");function prepareUi(){let metaViewport=document.createElement('meta');metaViewport.name='viewport';metaViewport.content='width=device-width, initial-scale=1, height=device-height';document.head.appendChild(metaViewport);if(window.matchMedia&&window.matchMedia('(prefers-color-scheme: dark)').matches){document.body.theme=MaterialDark;}else{document.body.theme=MaterialLight;}
document.body.style.margin="0pt";}
class BasicButton extends Element{constructor(){super();}
connectedCallback(){this.style.display="inline-block";this.style.padding="5px";this.style.paddingLeft="20pt";this.style.paddingRight="20pt";this.style.border="thin solid black";this.theme=this.parentNode.theme;this.style.color=this.theme.onPrimary;this.style.borderColor=this.style.color;this.style.cursor='normal';this.addEventListener('mouseenter',function(){this.style.background="black";this.style.color="white";});this.addEventListener('mouseleave',function(){this.style.background="rgba(0, 0, 0, 0)";this.style.color=this.theme.onPrimary;});let size=this.getAttribute("size");switch(size){case"fit":{this.style.width="100%";this.style.padding="0pt";this.style.display="flex";this.style.alignItems='center';this.style.justifyContent='center';this.style.paddingTop="5pt";this.style.paddingBottom="5pt";this.style.maxHeight='4em';};break;}}
disconnectedCallback(){}
static get observedAttributes(){}
attributeChangedCallback(name,before,after){}
toString(){return"[object BasicButton]";}}
customElements.define('button-basic',BasicButton);class LinkButton extends Element{constructor(){super();}
static get observedAttributes(){return['text-decoration'];}
connectedCallback(){this.style.display="inline-block";if(this.hasAttribute('hidden')){let attribVal=this.getAttribute('hidden');if(attribVal.length==0)this.setAttribute('hidden','true');else if(attribVal==="true")this.style.display="none";}
this.style.padding="5pt";this.theme=this.parentNode.theme;this.style.color=this.theme.onPrimary;this.style.borderColor=this.style.color;this.style.textDecoration=(this.getAttribute('text-decoration'))?this.getAttribute('text-decoration'):"underline";this.style.cursor="pointer";}
disconnectedCallback(){}
static get observedAttributes(){return['hidden'];}
attributeChangedCallback(name,before,after){switch(name){case"hidden":if(after==="true")this.style.display="none";else this.style.display="inline-block";break;}}
toString(){return"[object LinkButton]";}}
customElements.define('button-link',LinkButton);
class ChartPlot extends Element{constructor(){super();this._config={type:null,data:{labels:[],datasets:[]},options:{responsive:true,plugins:{legend:{position:'top'},title:{display:true,text:''}}}};this.canvas=document.createElement("canvas");this.datasets={};}
init(){this.style.display="block";this.style.height="100%";this.style.width="100%";this.canvas.height=this.clientHeight;this.canvas.width=this.clientWidth;this.canvas.style.height="inherit";this.canvas.style.width="inherit";this.appendChild(this.canvas);let context=this.canvas.getContext('2d');const x=this.canvas.width/2,y=this.canvas.height/2;context.font='20px sans-serif';context.textAlign='center';context.fillText('No Data',x,y);}
setTitle(title){this._config['options']['plugins']['title']['text']=title;}
addData(label,data){this.datasets[label]=data;}
removeData(label){delete this.datasets[label];}
setLabels(labels){this._config.data.labels=labels;}}
class BarPlot extends ChartPlot{constructor(){super();this._config.type='bar';this._config.options['parsing']={xAxisKey:null,yAxisKey:null};}
refresh(){for(const[k,v]of Object.entries(this.datasets)){let dict={};dict.label=k;dict.data=v;let hue=getRandomInt(0,360);dict.borderColor="hsl("+hue+", 100%, 50%)";dict.backgroundColor="hsla("+hue+", 100%, 50%, 0.5)";this._config.data.datasets.push(dict);}}
setXAxis(identifier){this._config.options['parsing']['xAxisKey']=identifier;}
setYAxis(identifier){this._config.options['parsing']['yAxisKey']=identifier;}
draw(){this.refresh();return new Chart(this.canvas.getContext('2d'),this._config);}
connectedCallback(){this.init();if(this.hasAttribute('horizontal'))this._config.options['indexAxis']='y';if(this.hasAttribute('stacked'))this._config.options['scales']={x:{stacked:true},y:{stacked:true}};}}
class LinePlot extends ChartPlot{constructor(){super();this._config.type='line';this._config.options.parsing={};}
refresh(){let hues=[];for(const[k,v]of Object.entries(this.datasets)){let dict={};dict.label=k;dict.data=v;let hue=getRandomInt(0,360);hue=getRandomInt(0,360);dict.borderColor="hsl("+hue+", 100%, 50%)";dict.backgroundColor="hsla("+hue+", 100%, 50%, 0.5)";this._config.data.datasets.push(dict);}}
setXAxis(identifier){this._config.options['parsing']['xAxisKey']=identifier;}
setYAxis(identifier){this._config.options['parsing']['yAxisKey']=identifier;}
draw(){this.refresh();return new Chart(this.canvas.getContext('2d'),this._config);}
connectedCallback(){this.init();if(this.hasAttribute('horizontal'))this._config.options['indexAxis']='y';}}
class BubblePlot extends ChartPlot{}
class ScatterPlot extends ChartPlot{constructor(){super();}
connectedCallback(){this.init();}}
class DoughnutPlot extends ChartPlot{}
class PiePlot extends ChartPlot{}
class PolarAreaPlot extends ChartPlot{}
class RadarPlot extends ChartPlot{}
class CustomPlot extends ChartPlot{}
customElements.define('line-plot',LinePlot);customElements.define('bar-plot',BarPlot);
class ChatView extends ResponsiveElement{constructor(){super();}
connectedCallback(){this.theme=this.parentNode.theme;this.style.display="flex";this.style.flexDirection='column';let top=this.getBoundingClientRect().top+window.scrollY;let height=window.innerHeight-top;this.style.height=height+'px';}}
class ScrollMessages extends ResponsiveElement{constructor(){super();}
connectedCallback(){this.theme=this.parentNode.theme;this.style.flex='2';this.style.overflow='auto';this.style.display='flex';this.style.flexDirection='column';}}
class MessageContainer extends Element{constructor(){super();}
connectedCallback(){this.theme=this.parentNode.theme;this.style.width="98%";this.style.maxWidth="100%";this.style.borderBottom="0.5pt solid rgba(50, 50, 50, 0.3)";this.style.padding="1%";let messageHead=document.createElement('div');messageHead.style.width='100%';messageHead.style.display='block';messageHead.style.marginBottom='0.5em';let authorDisp=document.createElement('span');authorDisp.style.fontSize='1.5em';let author=this.getAttribute('author');authorDisp.innerHTML=author;messageHead.appendChild(authorDisp);let timeDisp=document.createElement('span');timeDisp.style.margin='2pt';timeDisp.style.fontSize='0.9em';let time=this.getAttribute('time');timeDisp.innerHTML=time;messageHead.appendChild(timeDisp);this.appendChild(messageHead);}}
class MessageEntry extends ResponsiveElement{constructor(){super();}
connectedCallback(){this.theme=this.parentNode.theme;}}
class ChatBox extends Element{constructor(){super();}
connectedCallback(){this.theme=this.parentNode.theme;this.style.width="100%";this.style.maxWidth="98%";this.style.paddingLeft=this.style.paddingRight="1%";this.style.paddingTop=this.style.paddingBottom="5pt";this.style.overflow="auto";this.contentEditable=true;this.style.wordWrap='break-word';this.style.display="inline-block";this.style.visible=true;this.style.justifyContent='center';this.style.border='1pt solid '+this.theme.onPrimary;this.addEventListener('keydown',function(evt){if(evt.keyCode==13&&evt.shiftKey){evt.preventDefault?evt.preventDefault():(evt.defaultPrevented=true);if(this.innerHTML.length>0)
this.dispatchEvent(new Event('submit'));}
if(evt.keyCode==9){evt.preventDefault?evt.preventDefault():(evt.defaultPrevented=true);}});this.addEventListener('input',function(evt){if(evt.keyCode==9){evt.data=' '*2;}});}}
customElements.define('message-container',MessageContainer);customElements.define('chat-box',ChatBox);customElements.define('message-entry',MessageEntry);customElements.define('scroll-messages',ScrollMessages);customElements.define('chat-view',ChatView);class ContactButton extends ResponsiveElement{constructor(){super();}
connectedCallback(){this.theme=this.parentNode.theme;}
disconnectedCallback(){}
static get observedAttributes(){}
attributeChangedCallback(name,before,after){}
toString(){return"[object ContactButton]";}}
customElements.define('button-contact',ContactButton);

class GridLayout extends ResponsiveLayout{constructor(){super();this._orientation="l";this._potrait="";this._landscape="";}
connectedCallback(){this._potrait=this.getAttribute("potrait");this._landscape=this.getAttribute("landscape");this.style.display="grid";this.style.gridTemplateAreas='\''+this._landscape.split(';').join('\' \'')+'\'';this.style.gridAutoColumns="1fr";this.style.gap=this.getAttribute('gap');}}
class GridComponent extends Element{constructor(){super();}
connectedCallback(){this.style.gridArea=this.getAttribute('name');this.style.maxWidth="100%";}}
customElements.define('grid-component',GridComponent);customElements.define('grid-layout',GridLayout);
class CollapsibleSections extends ResponsiveElement{}
customElements.define('collapsible-sections',CollapsibleSections);class DirectoryLayout extends ResponsiveElement{}
customElements.define('directory-container',DirectoryLayout);class SearchComponent extends InputElement{constructor(){}}
customElements.define('search-component',SearchComponent);class OverlayComponent extends Element{constructor(){super();this.blurTarget=null;}
connectedCallback(){this.style.display="none";this.style.height="100vh";this.style.width="100vw";this.style.position="fixed";this.style.top=this.style.left="0pt";this.style.textAlign="center";this.style.alignItems="center";this.style.flexDirection="column";this.style.justifyContent="center";this.setInactive();}
addBlurTarget(target){this.blurTarget=target;}
setActive(object=null){this.hidden=false;this.style.display="flex";this.blurTarget.style.filter="blur(3pt)";if(object)this.innerHTML=object;}
setInactive(){try{this.blurTarget.style.filter="none";}catch(e){console.warn(e);}
this.innerHTML="No content";this.hidden=true;this.style.display="none";}}
customElements.define('overlay-component',OverlayComponent);class FillComponent extends ResponsiveElement{constructor(){super();}
connectedCallback(){this.theme=this.parentNode.theme;let position='relative';try{position=this.getAttribute('position');this.style.position=position;}catch(e){console.error('FillComponent error : ',e);}
if(position!='absolute'||position!='fixed'){this.parentNode.style.width="100%";this.parentNode.style.height="100%";}
else{}
this.style.width="100%";this.style.height="100%";if(this.hasAttribute('center')){this.style.display='flex';this.style.alignItems='center';this.style.justifyContent='center';}
if(this.hasAttribute('force-down')){this.style.height=window.innerHeight-(this.getBoundingClientRect().top+window.scrollY)+'px';}}
setActive(object=null){}
setInactive(){}}
customElements.define('fill-component',FillComponent);
class ScrollpaneComponent extends ResponsiveElement{constructor(){super();}
connectedCallback(){this.style.flex="1 1 auto";this.style.width="100%";this.style.height="100%";this.style.display="flex";this.style.flexDirection="column";this.style.overflow="scroll";}}
customElements.define('scrollpane-component',ScrollpaneComponent);
class SinglePageLayout extends ResponsiveLayout{constructor(){super();this.rendered=false;}
static get observedAttributes(){return['menu'];}
_resetGridTemplateAreas(){let layoutType=this.getAttribute("menu");switch(layoutType){case"left":this.style.gridTemplateAreas="'header header header header header' 'leftmenu main main main main'";break;case"right":this.style.gridTemplateAreas="'header header header header header' 'main main main main rightmenu'";break;case"double":this.style.gridTemplateAreas="'header header header header header' 'leftmenu main main main rightmenu'";break;default:this.style.gridTemplateAreas="'header'\n'main'";}
return layoutType;}
connectedCallback(){this.style.width="100%";this.style.height="100%";this.style.display="grid";this.style.gridGap="0pt";this.style.padding="0pt";this.style.visibility="visible";this.style.gridAutoColumns="1fr";this._resetGridTemplateAreas();}
disconnectedCallback(){console.log(this+" DisconnectedCallback");}
attributeChangedCallback(name,oldValue,newValue){switch(name){case"menu":this._resetGridTemplateAreas();break;case"colors":this._resetColors();break;case"dark-theme":this.toggleDarkTheme();break;}}
adoptedCallback(){console.log(this+'AdoptedCallback');}
toString(){return"[object SinglePageLayout]";}}
class LeftpaneComponent extends Element{constructor(){super();}
connectedCallback(){this.style.gridArea="leftmenu";this.theme=this.parentElement.theme;}}
class RightpaneComponent extends Element{constructor(){super();}
connectedCallback(){this.style.gridArea="rightmenu";this.theme=this.parentElement.theme;}}
customElements.define('leftpane-component',LeftpaneComponent);customElements.define('rightpane-component',RightpaneComponent);class Navbar extends Element{constructor(){super();}
static get observedAttributes(){return['background'];}
_setBackground(){let background=this.getAttribute("background");if(background!=null)this.style.background=background;}
connectedCallback(){this.style.top="0pt";this.style.gridArea='header';this.style.padding="10pt";this.style.zIndex="20";this.theme=this.parentNode.theme;this.style.background=this.theme.primary;if(this.parentNode instanceof TabbedPageLayout){}
else{this.style.boxShadow="0px 5px 20px rgba(0, 0, 0, 0.2)";}
this._setBackground();}
disconnectedCallback(){console.log(this+" DisconnectedCallback");}
attributeChangeCallback(){console.log(this+" AttributeChangeCallback");}
toString(){return"[object Navbar]";}}
class NavbarTitle extends Element{constructor(){super();}
connectedCallback(){this.style.paddingLeft="10pt";this.style.fontSize="16pt";this.style.fontVariant="small-caps";this.theme=this.parentNode.theme;this.style.color=this.theme.onPrimary;}
disconnectedCallback(){console.log(this+" DisconnectedCallback");}
attributeChangeCallback(){console.log(this+" AttributeChangeCallback");}
toString(){return"[object NavbarMenu]";}}
class NavbarMenu extends ResponsiveElement{constructor(){super();}
connectedCallback(){this.style.float="right";this.theme=this.parentNode.theme;}
disconnectedCallback(){console.log(this+" DisconnectedCallback");}
attributeChangeCallback(){console.log(this+" AttributeChangeCallback");}
toString(){return"[object NavbarMenu]";}}
class Footer extends Element{}
class Main extends Element{constructor(){super();}
connectedCallback(){this.style.gridArea='main';this.theme=this.parentNode.theme;this.style.background=this.theme.background;}
disconnectedCallback(){}
static get observedAttributes(){}
attributeChangedCallback(name,before,after){}
toString(){return"[object Main(SinglePageLayout)]";}}
customElements.define('nav-title',NavbarTitle);customElements.define('nav-menu',NavbarMenu);customElements.define('navbar-component',Navbar);customElements.define('main-area',Main);customElements.define('single-page-layout',SinglePageLayout);
class TableContainer extends ResponsiveElement{constructor(){super();this._data=[];this.table=document.createElement('table');this.title_pane=document.createElement('table-title');this.refreshEvennt=new Event('refresh');this._thead=document.createElement('thead');this._tbody=document.createElement('tbody');this._currentData=[];this._sortIndex='';this._dataframe=null;}
set data(_data){this._data=_data;this._dataframe=DataFrame.from_json(_data);this.remake();}
refresh_body(data){this._tbody.innerHTML="";this._currentData=data;if(data.length==0)return;let headers=Array.from(Object.keys(data[0]));data.forEach((val)=>{let tr=document.createElement('tr');headers.forEach((hval)=>{let td=document.createElement('td');td.appendChild(document.createTextNode(val[hval]));tr.appendChild(td);});this._tbody.appendChild(tr);});if(!this.table.contains(this._tbody))this.table.appendChild(this._tbody);}
remake(){let headers=Array.from(Object.keys(this._data[0]));this.table.innerHTML='';let title_row=document.createElement('tr');headers.forEach((val)=>{let th=document.createElement("th");let title=document.createTextNode(val);th.appendChild(title);th.name=val;th.onclick=function(event){let key=event.target.name;let parentTable=event.target.parentElement.parentElement.parentElement.parentElement;let data=parentTable._currentData;if(parentTable._sortIndex==key)data.reverse();else data.sort((elem1,elem2)=>{return elem1[key].localeCompare(elem2[key]);});parentTable._sortIndex=key;parentTable.refresh_body(data);};title_row.appendChild(th);});let filter_row=document.createElement('tr');headers.forEach((val)=>{let filter=null;console.log(this._dataframe.dtype[val][1]);switch(this._dataframe.dtype[val][1]){case'categorical':;case'discrete':{filter=document.createElement('select');filter.style.width="90%";filter.name=val;let distinct_vals=this._dataframe.getDistinct([val])[0];let option=document.createElement('option');option.innerHTML='';filter.appendChild(option);distinct_vals.forEach((val)=>{option=document.createElement('option');option.innerHTML=val;filter.appendChild(option);});filter.onchange=function(event){let key=event.target.name;let value=event.target.value;let parentTable=event.target.parentElement.parentElement.parentElement.parentElement.parentElement;let filtered_data=parentTable._data.filter((obj)=>{let re=new RegExp(value);return re.test(obj[key]);});parentTable.refresh_body(filtered_data);};};break;default:{filter=document.createElement('input');filter.style.width="90%";filter.name=val;filter.type='text';filter.onkeyup=function(event){let key=event.target.name;let value=event.target.value;let parentTable=event.target.parentElement.parentElement.parentElement.parentElement.parentElement;let filtered_data=parentTable._data.filter((obj)=>{let re=new RegExp(value);return re.test(obj[key]);});parentTable.refresh_body(filtered_data);};};break;}
let td=document.createElement('td');td.appendChild(filter);filter_row.appendChild(td);});this._thead.appendChild(title_row);this._thead.appendChild(filter_row);if(!this.table.contains(this._thead))this.table.appendChild(this._thead);this.refresh_body(this._data);}
connectedCallback(){this.style.display="block";this.style.overflow="auto";this.style.width="100%";this.style.height="100%";this.style.scrollbarWidth="none";this.style.msScrollbarWidth="none";this.style.border="thin solid #333";if(this.hasAttribute('refresh')){}
if(this.hasAttribute('auto-refresh')){}
if(this.hasAttribute('title')){this.title_pane.appendChild(document.createTextNode(this.title));}
this.innerHTML="";this.appendChild(this.title_pane);this.appendChild(this.table);}}
class TableTitle extends ResponsiveElement{constructor(){super();}
connectedCallback(){this.style.display="block";this.style.position="sticky";this.style.top="0";this.style.left="0";this.style.right="0";this.style.padding="5pt";this.style.paddingLeft="10pt";this.style.overflow="auto";this.style.background="#333";this.style.color="white";this.style.fontVariant="small-caps";}}
customElements.define('table-container',TableContainer);customElements.define('table-title',TableTitle);
class TabbedPageLayout extends ResponsiveLayout{constructor(){super();}
_resetGridTemplateAreas(){let layoutType=this.getAttribute("menu");switch(layoutType){case"left":this.style.gridTemplateAreas="'header header header header'\n'tabs tabs tabs tabs'\n'leftmenu main main main'";break;case"right":this.style.gridTemplateAreas="'header header header header'\n'tabs tabs tabs tabs'\n'main main main rightmenu'";break;case"double":this.style.gridTemplateAreas="'header header header header'\n'tabs tabs tabs tabs'\n'leftmenu main main rightmenu'";break;default:this.style.gridTemplateAreas="'header'\n'tabs'\n'main'";}
return layoutType;}
connectedCallback(){this.style.width="100%";this.style.height="100%";this.style.display="grid";this.style.gridGap="0pt";this.style.padding="0pt";this.style.visibility="visible";this.style.gridAutoColumns="1fr";this._resetGridTemplateAreas();}
disconnectedCallback(){console.log(this+" DisconnectedCallback");}
static get observedAttributes(){return['menu','colors','dark-theme'];}
attributeChangedCallback(name,oldValue,newValue){console.log(this.toString()+" AttributeChangedCallback");switch(name){case"menu":this._resetGridTemplateAreas();break;}}
adoptedCallback(){console.log(this+'AdoptedCallback');}
toString(){return"[object TabbedPageLayout]";}}
class TabsKeeper extends ResponsiveElement{constructor(){super();this.target=null;this.switchToNew=false;}
connectedCallback(){this.style.top="0pt";this.style.left="0pt";this.style.zIndex="19";this.style.width="100%";this.style.gridArea="tabs";this.style.display="block";this.style.position="sticky";this.style.background="white";this.style.height="auto";this.style.boxShadow="0px 5px 20px -10px rgba(0, 0, 0, 0.2)";this.style.overflowY="auto";this.style.scrollbarWidth="none";this.style.msOverflowStyle="none";this.style.whiteSpace="nowrap";if((navigator.userAgent.indexOf("MSIE")==-1&&navigator.userAgent.indexOf("Firefox")==-1)&&document.getElementById("-style-point-tabskeeper-")==null){let styleNode=document.createElement("style");styleNode.id="-style-point-tabskeeper-";styleNode.innerHTML="tabs-keeper::-webkit-scrollbar {display: none;}";document.head.appendChild(styleNode);}
this.theme=this.parentNode.theme;this.style.background=this.theme.primary;this.style.color=this.theme.onPrimary;if(this.children.length==0){this.dispatchEvent(new Event("emptytabs"));}}
addTab(title,object){let tab=TabButton.createNew();tab.setTitle(title);tab.linkedObject=object;this.appendChild(tab);return tab;}
select(x){let element=x;if(x instanceof TabButton){element=x;}
else element=this.children[x];for(var i=0;i<this.children.length;i++){if(this.children[i].active)this.children[i].deactivate();if(this.children[i]==element)this.children[i].activate();}}
remove(x){let index=0;if(x instanceof TabButton){for(let i=0;i<this.children.length;i++){if(this.children[i]==x){index=i;break;}}}
else if(typeof x=="number")index=x;else{console.error("Unknown element passed",x);return;}
delete this.childNodes[index].linkedObject;this.removeChild(this.childNodes[index]);if(this.children.length==0){this.dispatchEvent(new Event("emptytabs"));}
else{this.select(index-1);}}}
class CloseButton extends ResponsiveElement{constructor(){super();}
connectedCallback(){this.innerHTML=_closeIcon;this.style.marginLeft="10pt";this.style.cursor="pointer";}}
class TabButton extends ResponsiveElement{constructor(){super();this.registeredObject=null;this.state=null;this.active=false;this._titlePane=document.createElement('span');this._titlePane.innerHTML='untitled';this.activateEvent=new CustomEvent("activate",{bubbles:false});this.deactivateEvent=new CustomEvent("deactivate",{bubbles:false});}
static createNew(){let tab=document.createElement('tab-button');return tab;}
connectedCallback(){this.style.display="inline-block";this.style.padding="5px";this.style.paddingLeft="10px";this.style.cursor="pointer";this.style.border="1px solid rgba(0, 0, 0, 0.3)";this.style.userSelect="none";this.style.mozUserSelect="none";this.style.webkitUserSelect="none";this.style.msUserSelect="none";this.style.borderRadius="10% 10% 0 0";this.theme=this.parentNode.theme;this.style.background=this.theme.primary;this.style.color=this.theme.onPrimary;this.verticalAlign="middle";if(this.hasAttribute('title')){this._titlePane.innerHTML=this.getAttribute('title');}
this.appendChild(this._titlePane);if(!this.hasAttribute('noclose')){let closeButton=document.createElement('close-button');this.appendChild(closeButton);closeButton.addEventListener("click",(event)=>{event.stopPropagation();event.target.parentNode.parentNode.remove(event.target.parentNode);});}
this.addEventListener("click",(event)=>{this.parentNode.select(this);});if(this.hasAttribute('onactivate')){let func=Function(this.getAttribute('onactivate'));this.addEventListener('activate',func);}
if(this.hasAttribute('ondeactivate')){let func=Function(this.getAttribute('ondeactivate'));this.addEventListener('deactivate',func);}}
setTitle(title){this._titlePane.innerText=title;this.title=title;}
register(object){this.registeredObject=object;}
activate(){this.style.background=this.theme.background;this.style.color=this.theme.onBackground;this.style.borderBottomColor=this.theme.background;this.active=true;this.dispatchEvent(this.activateEvent);}
selectSelf(){this.parentElement.select(this);}
deactivate(){this.style.background=this.theme.primary;this.style.color=this.theme.onPrimary;this.style.borderBottom="1px solid rgba(0, 0, 0, 0.3)";this.active=false;this.dispatchEvent(this.deactivateEvent);}}
customElements.define('tabbed-page-layout',TabbedPageLayout);customElements.define('tabs-keeper',TabsKeeper);customElements.define('close-button',CloseButton);customElements.define('tab-button',TabButton);
